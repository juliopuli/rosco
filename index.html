<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pasapalabra Pro v3.8.0</title>
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="manifest" href="manifest.json">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <style>
        :root { --fondo: #050a1f; --panel: #111b3d; --oro: #ffcc00; --verde: #2ecc71; --rojo: #dc3545; --azul: #0044ff; }
        body { background: var(--fondo); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; display: flex; align-items: center; justify-content: center; min-height: 100vh; }
        .oculto { display: none !important; }

        .pantalla { text-align: center; background: var(--panel); padding: 35px; border-radius: 25px; border: 1px solid #2a3a6d; width: 90%; max-width: 380px; box-shadow: 0 20px 60px rgba(0,0,0,0.7); position: relative; }
        
        input { width: 85%; padding: 14px; margin: 10px 0; border-radius: 10px; border: none; font-size: 1rem; text-align: center; background: #e0e0e0; color: #111; font-weight: bold; }
        .btn { width: 100%; padding: 16px; margin: 10px 0; border-radius: 50px; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: 0.3s; }
        .btn-green { background: var(--verde); color: white; }
        .btn-red { background: var(--rojo); color: white; }
        .btn-blue { background: #3498db; color: white; }

        /* INDICADOR DE ESTADO INVISIBLE (Solo para saber si est치 bloqueado) */
        .dot { position: absolute; top: 10px; right: 10px; width: 8px; height: 8px; border-radius: 50%; }
        .dot-red { background: var(--rojo); box-shadow: 0 0 5px var(--rojo); }
        .dot-green { background: var(--verde); }

        /* PANEL STAFF FLOTANTE */
        #panel-staff { display: none; position: fixed; top: 15px; right: 15px; background: rgba(0,0,0,0.95); border: 2px solid var(--oro); padding: 15px; border-radius: 15px; z-index: 1000; min-width: 180px; text-align: center; }
    </style>
</head>
<body>

    <div id="panel-staff">
        <b id="st-name">ADMIN</b><br>
        <small id="st-range" style="color:var(--oro)"></small>
        <hr style="border:0.5px solid #444;">
        <button id="btn-admin-action" class="oculto" style="width:100%; border-radius:5px; border:none; padding:8px; font-weight:bold; cursor:pointer;"></button>
    </div>

    <div id="p-entrada" class="pantalla">
        <div id="dot-status" class="dot"></div>
        <h1 style="color:var(--oro); margin-bottom:5px;">PASAPALABRA</h1>
        <p id="instruccion">Introduce tu nombre</p>
        
        <input type="text" id="nombre-input" placeholder="Nombre...">
        
        <div id="box-staff" class="oculto">
            <input type="text" id="user-staff" placeholder="Usuario Staff">
            <input type="password" id="pass-staff" placeholder="Contrase침a">
        </div>

        <button id="btn-principal" class="btn btn-green" onclick="controlAcceso()">ENTRAR</button>
    </div>

    <div id="p-denegado" class="pantalla oculto" style="border-color:var(--rojo);">
        <h1 style="color:var(--rojo); font-size: 3rem;">游</h1>
        <h2 style="color:var(--rojo);">ACCESO BLOQUEADO</h2>
        <p>El sistema est치 cerrado actualmente por el Superadmin.</p>
        <button class="btn btn-blue" onclick="location.reload()">VOLVER A INTENTAR</button>
    </div>

    <div id="p-menu" class="pantalla oculto">
        <h2 id="msg-bienvenida">HOLA</h2>
        <button class="btn btn-blue" onclick="alert('Iniciando Online...')">MODO ONLINE</button>
        <button class="btn btn-green" onclick="alert('Iniciando Local...')">MODO LOCAL</button>
        <button class="btn" style="background:#444;" onclick="location.reload()">CERRAR SESI칍N</button>
    </div>

<script>
    // --- CONFIGURACI칍N SEGURA ---
    const LLAVE_MAESTRA = "Pablo23sek"; // El c칩digo que pones en el nombre
    const staffDB = {
        "pablo": { pass: "Pablo23sek", rango: "SUPERADMIN", super: true },
        "juliopuli": { pass: "juli26", rango: "ADMIN", super: false },
        "alvarito": { pass: "poki", rango: "VISUALIZADOR", super: false }
    };

    let bloqueado = localStorage.getItem('lockPasapalabra') === 'true';

    // Inicializar punto de estado
    if(bloqueado) document.getElementById('dot-status').className = "dot dot-red";
    else document.getElementById('dot-status').className = "dot dot-green";

    function controlAcceso() {
        const nombre = document.getElementById('nombre-input').value.trim();

        // 1. 쮼S LA LLAVE PARA STAFF?
        if (nombre === LLAVE_MAESTRA) {
            abrirLoginStaff();
            return;
        }

        // 2. 쮼ST츼 BLOQUEADO EL JUEGO?
        if (bloqueado) {
            document.getElementById('p-entrada').classList.add('oculto');
            document.getElementById('p-denegado').classList.remove('oculto');
            return;
        }

        // 3. ENTRADA NORMAL
        if (nombre.length < 2) return alert("Escribe un nombre real");
        irAlMenu(nombre);
    }

    function abrirLoginStaff() {
        document.getElementById('nombre-input').classList.add('oculto');
        document.getElementById('box-staff').classList.remove('oculto');
        document.getElementById('instruccion').innerText = "츼REA RESTRINGIDA";
        document.getElementById('btn-principal').innerText = "VERIFICAR";
        document.getElementById('btn-principal').onclick = loginStaff;
    }

    function loginStaff() {
        const u = document.getElementById('user-staff').value.toLowerCase();
        const p = document.getElementById('pass-staff').value;

        if (staffDB[u] && staffDB[u].pass === p) {
            // Mostrar Panel Admin
            document.getElementById('panel-staff').style.display = "block";
            document.getElementById('st-name').innerText = u.toUpperCase();
            document.getElementById('st-range').innerText = staffDB[u].rango;
            
            // Configurar bot칩n seg칰n si es Pablo o no
            const btn = document.getElementById('btn-admin-action');
            if (staffDB[u].super) {
                btn.classList.remove('oculto');
                btn.innerText = bloqueado ? "游댑 REABRIR JUEGO" : "游 BLOQUEAR TODO";
                btn.className = bloqueado ? "btn-green" : "btn-red";
                btn.onclick = () => {
                    bloqueado = !bloqueado;
                    localStorage.setItem('lockPasapalabra', bloqueado);
                    alert(bloqueado ? "SISTEMA CERRADO" : "SISTEMA ABIERTO");
                    location.reload();
                };
            }
            irAlMenu(u.toUpperCase());
        } else {
            alert("Credenciales incorrectas");
            location.reload();
        }
    }

    function irAlMenu(nombre) {
        document.getElementById('p-entrada').classList.add('oculto');
        document.getElementById('p-menu').classList.remove('oculto');
        document.getElementById('msg-bienvenida').innerText = "HOLA, " + nombre;
    }
</script>
</body>
</html>
